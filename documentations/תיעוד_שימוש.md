# תיעוד מערכת הסעות עובדים

## תוכן עניינים
1. [סקירה כללית](#סקירה-כללית)
2. [התחלת עבודה](#התחלת-עבודה)
3. [תפריט המערכת](#תפריט-המערכת)
4. [ניהול עובדים](#ניהול-עובדים)
5. [ייבוא וייצוא נתונים](#ייבוא-וייצוא-נתונים)
6. [הרשאות משתמשים](#הרשאות-משתמשים)
7. [טיפים ושימוש יעיל](#טיפים-ושימוש-יעיל)

---

## סקירה כללית

מערכת הסעות עובדים היא מערכת ניהול מקיפה לניהול הסעות יומיות, מסלולים, עובדים ונהגים. המערכת מאפשרת:

- **ניהול עובדים**: הוספה, עריכה, מחיקה וניהול פרטי עובדים
- **סידור הסעות**: הקצאת עובדים לנהגים ומסלולים
- **ניהול מסלולים**: יצירה ועריכה של מסלולי נסיעה עם מפה אינטראקטיבית
- **דוחות וסטטיסטיקות**: מעקב אחר נסיעות, ביטולים ושימוש במסלולים
- **התראות ועדכונים**: פרסום הודעות לעובדים ונהגים
- **ייבוא/ייצוא Excel**: העברת נתונים בקלות

---

## התחלת עבודה

### התחברות למערכת

1. פתח את קובץ `transport-system.html` בדפדפן
2. במסך ההתחברות, הזן:
   - **שם משתמש** או **קוד עובד** (למשל: "בן אליהו" או "2")
   - **סיסמה**
3. לחץ על כפתור **"התחברות"**

### רישום עובד חדש

1. במסך ההתחברות, לחץ על **"הרשמה"**
2. מלא את כל השדות הנדרשים:
   - שם מלא
   - טלפון
   - כתובת
   - עיר
   - מסלול
   - שעת איסוף
   - מחלקה/חברה
   - שם משתמש (קוד עובד)
   - סיסמה ואישור סיסמה
3. לחץ על **"הרשמה"**

> **הערה**: שם המשתמש חייב להיות ייחודי. המערכת תציג שגיאה אם שם המשתמש כבר קיים.

### שכחתי סיסמה

1. במסך ההתחברות, לחץ על **"שכחת סיסמה?"**
2. **שלב 1 - אימות זהות**:
   - הזן את **קוד העובד** או **שם המשתמש** שלך (אופציונלי)
   - הזן את **אימייל** או **מספר טלפון** הרשומים במערכת
   - לחץ על **"המשך"**
3. **שליחת אימייל איפוס סיסמה**:
   - אם הזנת אימייל, תקבל אימייל עם קישור לאיפוס סיסמה
   - לחץ על הקישור באימייל
   - תועבר למסך איפוס סיסמה
4. **שלב 2 - איפוס סיסמה**:
   - הזן סיסמה חדשה (לפחות 4 תווים)
   - אשר את הסיסמה
   - לחץ על **"שמור סיסמה"**
5. **סיום**:
   - תקבל הודעה שהסיסמה עודכנה בהצלחה
   - לחץ על **"התחבר למערכת"** כדי להתחבר עם הסיסמה החדשה

> **הערות**:
> - אימייל איפוס סיסמה הוא בחינם (200 הודעות בחודש)
> - הקישור באימייל תקף למשך שעה אחת
> - אם לא קיבלת אימייל, בדוק את תיבת הספאם או נסה שוב
> - קוד העובד הוא אותו קוד המשמש להתחברות (למשל: "בן אליהו")

---

## תפריט המערכת

### 1. דשבורד (Dashboard)

**תיאור**: מסך הבית המציג סקירה כללית של המערכת.

**תכונות**:
- **התראות ועדכונים**: הודעות חשובות לעובדים
- **עובדים שלא יגיעו היום**: רשימת עובדים שסימנו שהם לא יגיעו (בצבע אדום)
- **סטטיסטיקות יומיות**: מספר עובדים פעילים, נהגים פעילים, מסלולים

**שימוש**:
- צפייה מהירה במצב היומי
- מעקב אחר התראות חשובות

---

### 2. הבקשות שלי (Employee Portal)

**תיאור**: אזור אישי לעובדים לניהול הבקשות והעדכונים שלהם.

**תכונות**:
- **בקשות ביטול**: אפשרות לבטל נסיעות לתאריכים ספציפיים
- **בקשות שינוי**: בקשות לשינוי מסלול או שעת איסוף
- **היסטוריית בקשות**: מעקב אחר בקשות קודמות

**שימוש**:
1. לחץ על **"בקשה חדשה"**
2. בחר סוג בקשה
3. מלא את הפרטים הנדרשים
4. שלח את הבקשה

---

### 3. רשימת עובדים

**תיאור**: רשימה מלאה של כל העובדים במערכת.

**תכונות**:
- **צפייה בעובדים**: רשימה מסודרת לפי מסלול או מחלקה
- **סימון "לא יגיע"**: עובדים יכולים לסמן שהם לא יגיעו היום
- **עריכה**: עדכון פרטי עובדים (למנהלים בלבד)
- **סטטוס פעיל/לא פעיל**: הצגת סטטוס העובד

**שימוש**:
- **עובדים**: לחץ על אייקון הפח האדום ליד השם שלך כדי לסמן שלא תגיע היום
- **מנהלים**: לחץ על כפתור **"ערוך"** כדי לעדכן פרטי עובד

---

### 4. ניהול עובדים

**תיאור**: אזור ניהול מתקדם לעובדים (למנהלים בלבד).

**תכונות**:
- **הוספת עובד חדש**: יצירת עובד חדש עם כל הפרטים
- **מחיקת עובדים**: מחיקה קבועה של עובדים שנוספו בטעות או לבדיקה
- **ניהול פרטי עובדים**: עדכון שם משתמש, סיסמה, ופרטים נוספים

**שימוש**:

**הוספת עובד**:
1. לחץ על **"הוספת עובדים"**
2. מלא את כל השדות:
   - שם מלא
   - מחלקה/חברה
   - כתובת
   - עיר
   - טלפון
   - אימייל
   - מסלול
   - שעת איסוף
   - שם משתמש (קוד עובד)
   - סיסמה ואישור סיסמה
3. לחץ על **"הוסף עובד"**

**מחיקת עובד**:
1. מצא את העובד ברשימה
2. לחץ על כפתור **"מחק"** (איקון פח)
3. אשר את המחיקה בחלון האישור

> **אזהרה**: מחיקת עובד היא פעולה קבועה ולא ניתנת לביטול!

---

### 5. סידור עובדים

**תיאור**: הקצאת עובדים לנהגים ומסלולים ליום הנוכחי.

**תכונות**:
- **הצגת נהגים**: רשימת כל הנהגים והמסלולים שלהם
- **הקצאת עובדים**: גרירה ושחרור של עובדים לנהגים
- **מעקב נוסעים**: הצגת מספר הנוסעים לכל נהג
- **עובדים ללא הקצאה**: רשימת עובדים שעדיין לא הוקצו

**שימוש**:
1. בחר נהג מהרשימה
2. גרור עובדים מהרשימה הימנית אל הנהג
3. שחרר את העובד כדי להקצות אותו
4. המערכת תעדכן אוטומטית את מספר הנוסעים

---

### 6. אחראי הסעות

**תיאור**: שליחת סידור יומי לנהגים.

**תכונות**:
- **תצוגת סידור**: הצגת הסידור היומי לכל נהג
- **שליחה לנהגים**: אפשרות לשלוח את הסידור לנהגים (דמי)
- **הדפסה**: הדפסת הסידור

**שימוש**:
1. ודא שהסידור הושלם ב"סידור עובדים"
2. בדוק את הסידור המוצג
3. לחץ על **"שלח לנהגים"** או **"הדפס"**

---

### 7. תצוגת נהג

**תיאור**: תצוגה מנקודת המבט של הנהג.

**תכונות**:
- **מידע אישי**: שם הנהג והמסלול שלו
- **רשימת נוסעים**: רשימה מסודרת של כל הנוסעים עם כתובות ושעות איסוף
- **טיפים לנהג**: טיפים חשובים לנהיגה בטוחה

**שימוש**:
- צפייה ברשימת הנוסעים לפי סדר האיסוף
- בדיקת כתובות ושעות איסוף
- קריאת טיפים לנהיגה

---

### 8. ניהול מסלולים

**תיאור**: יצירה ועריכה של מסלולי נסיעה עם מפה אינטראקטיבית.

**תכונות**:
- **יצירת מסלול חדש**: יצירת מסלול עם שם ומיקומים
- **עריכת מסלול**: עדכון מסלול קיים
- **מפה אינטראקטיבית**: הוספת נקודות על המפה
- **חיפוש כתובות**: חיפוש אוטומטי של כתובות

**שימוש**:

**יצירת מסלול חדש**:
1. לחץ על **"מסלול חדש"**
2. הזן שם למסלול
3. לחץ על המפה כדי להוסיף נקודות, או הזן כתובת בחיפוש
4. לחץ על **"שמור מסלול"**

**עריכת מסלול**:
1. לחץ על כפתור **"ערוך"** ליד המסלול
2. עדכן את הנקודות על המפה
3. לחץ על **"עדכן מסלול"**

**מחיקת מסלול**:
1. לחץ על כפתור **"מחק"** (איקון פח)
2. אשר את המחיקה

---

### 9. דוחות

**תיאור**: דוחות וסטטיסטיקות על פעילות המערכת.

**תכונות**:
- **דוח נסיעות חודשי**: דוח מפורט על נסיעות בחודש מסוים
- **סטטיסטיקות**: 
  - סך נסיעות בחודש
  - ממוצע נוסעים לנסיעה
  - מסלולים הכי בשימוש
  - אחוז ביטולים
- **ייצוא ל-Excel**: ייצוא הדוח לקובץ Excel

**שימוש**:

**צפייה בדוח חודשי**:
1. בחר חודש ושנה מהתפריטים הנפתחים
2. המערכת תציג אוטומטית את הנתונים:
   - סך נסיעות בחודש
   - ממוצע נוסעים לנסיעה
   - מסלולים הכי בשימוש
   - אחוז ביטולים
   - פירוט לפי מסלול

**ייצוא ל-Excel**:
1. בחר את החודש והשנה הרצויים
2. לחץ על **"ייצא ל-Excel"**
3. הקובץ יורד אוטומטית (או תתבקש לבחור מיקום שמירה)

---

### 10. התראות ועדכונים

**תיאור**: ניהול התראות והודעות לעובדים ונהגים.

**תכונות**:
- **פרסום התראה חדשה**: יצירת התראה חדשה
- **מחיקת התראות**: מחיקת התראות ישנות
- **מחיקה אוטומטית**: התראות נמחקות אוטומטית אחרי 4 ימים

**שימוש**:

**פרסום התראה חדשה**:
1. לחץ על **"התראה חדשה"**
2. הזן את תוכן ההתראה בתיבה
3. לחץ על **"פרסום"**
4. ההתראה תופיע בדשבורד ובעמוד זה

**מחיקת התראה**:
1. מצא את ההתראה ברשימה
2. לחץ על כפתור **"מחק"** (איקון פח)
3. ההתראה תימחק מיד

> **הערה**: התראות נמחקות אוטומטית אחרי 4 ימים, כך שהדשבורד נשאר מעודכן.

---

## ניהול עובדים

### הוספת עובד ידנית

1. עבור ל**"ניהול עובדים"**
2. לחץ על **"הוספת עובדים"**
3. מלא את כל השדות הנדרשים
4. לחץ על **"הוסף עובד"**

### עריכת עובד קיים

1. עבור ל**"רשימת עובדים"**
2. לחץ על **"ערוך"** ליד העובד
3. עדכן את הפרטים
4. לחץ על **"שמור"**

### מחיקת עובד

1. עבור ל**"ניהול עובדים"**
2. לחץ על **"מחק"** ליד העובד
3. אשר את המחיקה

> **אזהרה**: מחיקת עובד היא פעולה קבועה! העובד יימחק לחלוטין מהמערכת.

---

## ייבוא וייצוא נתונים

### ייבוא עובדים מ-Excel/ODS

**תיאור**: ייבוא עובדים מקובץ Excel או ODS.

**פורמט הקובץ**:

המערכת תומכת בשני פורמטים:

#### פורמט 1: עם כותרות (מומלץ)

| שם | כתובת | עיר | טלפון | אימייל | מסלול | שעת איסוף | מחלקה |
|----|------|-----|-------|--------|-------|-----------|--------|
| יוסי כהן | רחוב ראשי 1 | תל אביב | 050-123-4567 | yossi@example.com | מסלול א | 07:30 | הפצה |

#### פורמט 2: ללא כותרות

העמודות חייבות להיות בסדר הבא:
- עמודה A: שם
- עמודה B: כתובת
- עמודה C: עיר
- עמודה D: טלפון
- עמודה E: אימייל
- עמודה F: מסלול
- עמודה G: שעת איסוף
- עמודה H: מחלקה/חברה

#### פורמט 3: נתונים אנכיים (כל הנתונים בעמודה A)

```
שם: יוסי כהן
כתובת: רחוב ראשי 1
עיר: תל אביב
טלפון: 050-123-4567
אימייל: yossi@example.com
מסלול: מסלול א
שעת איסוף: 07:30
מחלקה: הפצה
```

**שימוש**:
1. עבור ל**"רשימת עובדים"**
2. לחץ על **"ייבוא עובדים"**
3. לחץ על **"?"** לצפייה בפורמט המדויק
4. בחר את קובץ ה-Excel או ODS
5. המערכת תזהה אוטומטית את הפורמט ותייבא את העובדים

**תכונות חכמות**:
- **עדכון עובדים קיימים**: אם עובד עם אותו שם כבר קיים, המערכת תעדכן את הפרטים שלו במקום ליצור כפילות
- **זיהוי אוטומטי**: המערכת מזהה אוטומטית אם יש כותרות או לא
- **תמיכה בפורמטים שונים**: Excel (.xlsx), Excel ישן (.xls), ו-ODS

### ייצוא עובדים ל-Excel

**תיאור**: ייצוא כל רשימת העובדים לקובץ Excel.

**שימוש**:
1. עבור ל**"רשימת עובדים"**
2. לחץ על **"ייצוא עובדים"**
3. הקובץ יורד אוטומטית (או תתבקש לבחור מיקום שמירה)

**פורמט הקובץ**:
הקובץ יכלול את כל הפרטים:
- שם
- כתובת
- עיר
- טלפון
- אימייל
- מסלול
- שעת איסוף
- מחלקה/חברה

---

## הרשאות משתמשים

המערכת תומכת בשלוש רמות הרשאה:

### 1. עובד (EMPLOYEE)

**הרשאות**:
- ✅ צפייה בדשבורד
- ✅ צפייה ב"הבקשות שלי"
- ✅ צפייה ברשימת עובדים
- ✅ סימון עצמי כ"לא יגיע היום"
- ✅ עדכון פרטים אישיים

**הגבלות**:
- ❌ אין גישה ל"דוחות"
- ❌ אין גישה ל"התראות ועדכונים"
- ❌ אין גישה ל"ניהול עובדים"
- ❌ אין גישה ל"אחראי הסעות"
- ❌ אין גישה ל"תצוגת נהג"
- ❌ אין גישה ל"ניהול מסלולים"
- ❌ אין גישה ל"סידור עובדים"
- ❌ לא יכול לערוך עובדים אחרים
- ❌ לא יכול לסמן עובדים אחרים כ"לא יגיע"

### 2. מנהל (MANAGER)

**הרשאות**:
- ✅ כל ההרשאות של עובד
- ✅ גישה ל"דוחות"
- ✅ גישה ל"התראות ועדכונים"
- ✅ גישה ל"ניהול עובדים"
- ✅ גישה ל"אחראי הסעות"
- ✅ גישה ל"תצוגת נהג"
- ✅ גישה ל"ניהול מסלולים"
- ✅ גישה ל"סידור עובדים"
- ✅ עריכה של כל העובדים

### 3. מנהל מערכת (ADMIN)

**הרשאות**:
- ✅ כל ההרשאות של מנהל
- ✅ מחיקת עובדים
- ✅ גישה מלאה לכל הפונקציות

> **הערה**: כרגע כל המשתמשים הם בעלי הרשאות מנהל. המערכת מוכנה לתמיכה בהרשאות, אך הן עדיין לא מוגדרות במלואן.

---

## טיפים ושימוש יעיל

### טיפים כלליים

1. **גיבוי נתונים**: המערכת שומרת נתונים ב-LocalStorage של הדפדפן. כדי לגבות:
   - ייצא את רשימת העובדים ל-Excel
   - שמור את קובץ ה-HTML

2. **ייבוא עובדים**: 
   - השתמש בפורמט עם כותרות לנוחות מרבית
   - ודא שכל הנתונים מלאים לפני הייבוא
   - בדוק שהשמות ייחודיים

3. **ניהול מסלולים**:
   - השתמש בחיפוש הכתובות כדי למצוא מיקומים במהירות
   - לחץ על המפה כדי להוסיף נקודות
   - שמור מסלולים עם שמות ברורים

4. **התראות**:
   - פרסם התראות חשובות בדשבורד
   - זכור שהתראות נמחקות אוטומטית אחרי 4 ימים
   - השתמש בהתראות להודעות דחופות בלבד

5. **דוחות**:
   - צפה בדוחות חודשיים באופן קבוע
   - ייצא דוחות ל-Excel לארכיון
   - השתמש בנתונים לשיפור המערכת

### פתרון בעיות נפוצות

**בעיה**: עובד לא יכול להתחבר
- **פתרון**: ודא ששם המשתמש והסיסמה נכונים. נסה להשתמש בקוד העובד במקום שם המשתמש.

**בעיה**: עובדים לא מופיעים אחרי ייבוא
- **פתרון**: רענן את הדף. אם הבעיה נמשכת, בדוק את פורמט הקובץ.

**בעיה**: מסלול לא נשמר
- **פתרון**: ודא שלחצת על "שמור מסלול" אחרי הוספת כל הנקודות.

**בעיה**: התראה לא מופיעה
- **פתרון**: ודא שלחצת על "פרסום" ולא רק סגרת את החלון.

**בעיה**: דוח לא מייצא
- **פתרון**: בדוק את הגדרות ההורדה האוטומטית בדפדפן. בדפדפן Opera GX, ודא שההורדות לא חסומות.

### תמיכה טכנית

**דפדפנים נתמכים**:
- Chrome (מומלץ)
- Firefox
- Edge
- Opera GX
- Safari

**דרישות מערכת**:
- חיבור לאינטרנט (למפה ולחיפוש כתובות)
- JavaScript מופעל
- LocalStorage פעיל

**גיבוי ושחזור**:
- כל הנתונים נשמרים ב-LocalStorage של הדפדפן
- כדי לגבות: ייצא את העובדים ל-Excel
- כדי לשחזר: ייבא את קובץ ה-Excel

---

## סיכום

מערכת הסעות עובדים היא כלי חזק לניהול הסעות יומיות. עם הממשק הפשוט והתכונות המתקדמות, תוכל לנהל בקלות עובדים, מסלולים, נהגים ודוחות.

**זכור**:
- שמור גיבויים קבועים
- השתמש בייבוא/ייצוא לניהול נתונים
- בדוק את הדוחות באופן קבוע
- פרסם התראות חשובות

**לשאלות ותמיכה**: פנה למנהל המערכת.

---

**גרסה**: 0.9 (Beta)  
**תאריך עדכון**: 2026  
**מערכת**: מערכת הסעות עובדים
